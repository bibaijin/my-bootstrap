\documentclass[11pt,a4paper]{article}

%%%%%%%%%%%%%%%%%%%%%%%%
% 中文适配
%%%%%%%%%%%%%%%%%%%%%%%%

% 排版
\usepackage{xltxtra,fontspec,xunicode}
\usepackage[slantfont,boldfont,CJKchecksingle]{xeCJK}
\CJKsetecglue{\hskip 0.15em plus 0.05 em minus 0.05em}
\XeTeXlinebreaklocale "zh"
\XeTeXlinebreakskip=0pt plus 1pt minus 0.1pt
\usepackage{indentfirst}
\setlength{\parindent}{2.2em}
% 字体
\setCJKmainfont[BoldFont=Adobe Heiti Std]{Adobe Song Std}
\setCJKsansfont{Adobe Heiti Std}
\setCJKmonofont{WenQuanYi Micro Hei Mono}

\setCJKfamilyfont{FZLiuKai}{FZSuXinShiLiuKaiS-R-GB}
\newcommand{\FZLiuKai}{\CJKfamily{FZLiuKai}}

% 汉化
\renewcommand{\contentsname}{目录}
\renewcommand{\indexname}{索引}
\renewcommand{\listfigurename}{插图目录}
\renewcommand{\listtablename}{表格目录}
\renewcommand{\figurename}{图}
\renewcommand{\tablename}{表}
\renewcommand{\appendixname}{附录}
\renewcommand{\abstractname}{摘要}
\renewcommand{\refname}{参考文献}
\usepackage{titlesec, titletoc}
\titleformat{\chapter}{\centering\huge}{第\thechapter{}章}{1em}{\textbf}
\titleformat{\section}{\centering\large}{\thesection}{1em}{\textbf}
\titleformat{\subsection}{\large}{\thesubsection}{1em}{\textbf}

%%%%%%%%%%%%%%%%%%%%%%%%
% 排版
%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage[top=1.2in,bottom=1.2in,left=1.2in,right=1in]{geometry}
\renewcommand{\baselinestretch}{1.4}\normalsize

%%%%%%%%%%%%%%%%%%%%%%%%
% 有用的宏包
%%%%%%%%%%%%%%%%%%%%%%%%

% 超链接
\usepackage[colorlinks=true,linkcolor=black,CJKbookmarks=true]{hyperref}

% 参考文献
\usepackage[backend=biber,style=caspervector,utf8]{biblatex}
\addbibresource{ref.bib}

% 页眉页脚
\usepackage{fancyhdr}
\pagestyle{fancy}

\usepackage{type1cm}
\usepackage{bbding}
\usepackage{color,xcolor}
\usepackage{latexsym}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{bm}
\usepackage{relsize}
\usepackage{makeidx}

% 常用结构
\usepackage{enumerate}
\usepackage{multicol}

\usepackage{graphicx}
\graphicspath{{figures/}}
\DeclareGraphicsExtensions{.pdf,.jpeg,.jpg,.png}

\usepackage{diagbox}

% 代码高亮
\usepackage{listings}
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\footnotesize,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=2
}
\lstset{style=mystyle}

\lstloadlanguages{}
\usepackage{authblk}

% 画图
\usepackage{tikz}
\usetikzlibrary{trees,shapes,arrows,dsp,chains,positioning,calc,intersections}
\usepackage{wrapfig}

% 表格
\usepackage{booktabs}
\newcommand{\topcaption}{%
    \setlength{\abovecaptionskip}{0pt}%
    \setlength{\belowcaptionskip}{10pt}%
    \caption
}

%%%%%%%%%%%%%%%%%%%%%%%%
% 自定义命令
%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\ud}{\mathrm{d}}

\newtheorem{example}{例}
\newtheorem{algorithm}{算法}
\newtheorem{theorem}{定理}[section]
\newtheorem{definition}{定义}
\newtheorem{axiom}{公理}
\newtheorem{property}{性质}
\newtheorem{proposition}{命题}
\newtheorem{lemma}{引理}
\newtheorem{corollary}{推论}
\newtheorem{remark}{注解}
\newtheorem{condition}{条件}
\newtheorem{conclusion}{结论}
\newtheorem{assumption}{假设}
\newtheorem{todo}{待证明}

\makeindex
